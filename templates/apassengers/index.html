<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passenger Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body { 
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        * { font-family: Verdana, Geneva, Tahoma, sans-serif !important; }
        footer { 
            background: #f8f9fa;
            margin-top: auto;
        }
        
        /* Bus Animation Background */
        .bus-animation {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 120px;
            overflow: hidden;
            z-index: 1;
            pointer-events: none;
        }
        .road {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 30px;
            background: #333;
            animation: moveRoad 4s linear infinite;
        }
        .lane {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 4px;
            background: repeating-linear-gradient(
                to right,
                rgba(255,255,255,0.9) 0 40px,
                transparent 40px 80px
            );
            transform: translateY(-50%);
            opacity: 0.8;
        }
        
        .bus {
            position: absolute;
            width: 80px;
            height: 60px;
            background: #FFD700;
            border-radius: 10px;
            transform-origin: 50% 100%;
            animation: moveBus 15s linear infinite, busBounce 1.2s ease-in-out infinite;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .bus .body {
            position: absolute;
            inset: 0;
            border-radius: 10px;
            background: linear-gradient(to bottom, #FFD700 0%, #E6BE00 100%);
        }
        .bus .front-window {
            position: absolute;
            left: 8px;
            top: 12px;
            width: 24px;
            height: 18px;
            background: linear-gradient(to bottom, #9dd1ff, #5aa8e8);
            border-radius: 3px;
        }
        .bus .side-windows {
            position: absolute;
            right: 8px;
            top: 10px;
            display: grid;
            grid-auto-flow: column;
            gap: 4px;
        }
        .bus .side-windows .win {
            width: 12px;
            height: 16px;
            background: linear-gradient(to bottom, #9dd1ff, #5aa8e8);
            border-radius: 2px;
        }
        .bus .wheel {
            position: absolute;
            bottom: -6px;
            width: 18px;
            height: 18px;
            background: #222;
            border: 3px solid #555;
            border-radius: 50%;
            box-shadow: inset 0 0 0 3px #111;
            animation: spin 1s linear infinite;
        }
        .bus .wheel.left { left: 10px; }
        .bus .wheel.right { right: 10px; }
        .bus .hubcap {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 6px;
            height: 6px;
            background: #bbb;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        .bus .headlight {
            position: absolute;
            left: 2px;
            bottom: 18px;
            width: 6px;
            height: 6px;
            background: #fff6a9;
            border-radius: 50%;
            box-shadow: 0 0 8px 2px rgba(255,246,169,0.8);
        }
        .bus .smoke {
            position: absolute;
            right: -8px;
            bottom: 14px;
            width: 6px;
            height: 6px;
            background: rgba(200,200,200,0.6);
            border-radius: 50%;
            filter: blur(0.5px);
            animation: smoke 1.4s ease-out infinite;
        }
        
        @keyframes moveBus {
            0% { left: -100px; }
            100% { left: 100%; }
        }
        @keyframes moveRoad {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        @keyframes busBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes smoke {
            0% { opacity: 0.8; transform: translateX(0) translateY(0) scale(1); }
            100% { opacity: 0; transform: translateX(12px) translateY(-10px) scale(1.8); }
        }
        
        /* Static bus on left side */
        .static-bus {
            position: fixed;
            left: 40px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            pointer-events: none;
        }
        .static-bus .bus-container {
            width: 120px;
            height: 90px;
            animation: staticBusBounce 2s ease-in-out infinite;
        }
        .static-bus .body {
            width: 100%;
            height: 70px;
            background: linear-gradient(to bottom, #FFD700, #E6BE00);
            border-radius: 15px;
            position: relative;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }
        .static-bus .front-window {
            position: absolute;
            left: 12px;
            top: 18px;
            width: 36px;
            height: 26px;
            background: linear-gradient(to bottom, #9dd1ff, #5aa8e8);
            border-radius: 5px;
        }
        .static-bus .side-windows {
            position: absolute;
            right: 12px;
            top: 15px;
            display: grid;
            grid-auto-flow: column;
            gap: 6px;
        }
        .static-bus .win {
            width: 18px;
            height: 24px;
            background: linear-gradient(to bottom, #9dd1ff, #5aa8e8);
            border-radius: 3px;
        }
        .static-bus .wheel {
            position: absolute;
            bottom: -12px;
            width: 27px;
            height: 27px;
            background: #222;
            border: 4px solid #555;
            border-radius: 50%;
            box-shadow: inset 0 0 0 4px #111;
        }
        .static-bus .wheel.left { left: 15px; }
        .static-bus .wheel.right { right: 15px; }
        .static-bus .hubcap {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: #bbb;
            border-radius: 50%;
        }
        .static-bus .label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            color: #333;
            font-weight: bold;
            background: white;
            padding: 2px 8px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        @keyframes staticBusBounce {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-8px) rotate(-1deg); }
            75% { transform: translateY(-4px) rotate(1deg); }
        }
        
        /* Floating particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255,255,255,0.5);
            border-radius: 50%;
            animation: float 8s linear infinite;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .hero-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            z-index: 10;
        }
        
        .lang-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        broadcast.talking {
            display: inline-block;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .destination-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .destination-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <!-- Static Bus on Left -->
    <div class="static-bus">
        <div class="bus-container">
            <div class="body">
                <div class="front-window"></div>
                <div class="side-windows">
                    <div class="win"></div>
                    <div class="win"></div>
                </div>
                <div class="wheel left"><div class="hubcap"></div></div>
                <div class="wheel right"><div class="hubcap"></div></div>
            </div>
            <div class="label">üöå Yatra</div>
        </div>
    </div>

    <!-- Bus Animation -->
    <div class="bus-animation">
        <div class="road">
            <div class="lane"></div>
        </div>
        <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
        <div class="particle" style="left: 30%; animation-delay: 2s;"></div>
        <div class="particle" style="left: 50%; animation-delay: 4s;"></div>
        <div class="particle" style="left: 70%; animation-delay: 6s;"></div>
        <div class="particle" style="left: 90%; animation-delay: 8s;"></div>

        <div class="bus" style="animation-delay: 0s; bottom: 28px;">
            <div class="body"></div>
            <div class="front-window"></div>
            <div class="side-windows">
                <div class="win"></div>
                <div class="win"></div>
                <div class="win"></div>
            </div>
            <div class="wheel left"><div class="hubcap"></div></div>
            <div class="wheel right"><div class="hubcap"></div></div>
            <div class="headlight"></div>
            <div class="smoke"></div>
        </div>

        <div class="bus" style="animation-delay: 5s; bottom: 28px; background: none;">
            <div class="body" style="background: linear-gradient(to bottom, #FF6B6B 0%, #DC143C 100%);"></div>
            <div class="front-window"></div>
            <div class="side-windows">
                <div class="win"></div>
                <div class="win"></div>
                <div class="win"></div>
            </div>
            <div class="wheel left"><div class="hubcap"></div></div>
            <div class="wheel right"><div class="hubcap"></div></div>
            <div class="headlight"></div>
            <div class="smoke"></div>
        </div>

        <div class="bus" style="animation-delay: 10s; bottom: 28px; background: none;">
            <div class="body" style="background: linear-gradient(to bottom, #4ECDC4 0%, #2E8B8B 100%);"></div>
            <div class="front-window"></div>
            <div class="side-windows">
                <div class="win"></div>
                <div class="win"></div>
                <div class="win"></div>
            </div>
            <div class="wheel left"><div class="hubcap"></div></div>
            <div class="wheel right"><div class="hubcap"></div></div>
            <div class="headlight"></div>
            <div class="smoke"></div>
        </div>
    </div>
    
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: rgba(0,0,0,0.5); backdrop-filter: blur(10px);">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-bus-front"></i> Yatra Saarthi
            </a>
            <div class="ms-auto">
                <a class="btn btn-outline-light btn-sm" href="{{ url_for('login') }}">
                    <i class="bi bi-person-circle"></i> Admin Login
                </a>
            </div>
        </div>
    </nav>
    
    <!-- Language Toggle -->
    <div class="lang-toggle">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-light btn-sm active" onclick="changeLang('en')">
                <i class="bi bi-translate"></i> English
            </button>
            <button type="button" class="btn btn-light btn-sm" onclick="changeLang('ta')">
                üáÆüá≥ ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç
            </button>
            <button type="button" class="btn btn-light btn-sm" onclick="changeLang('te')">
                üáÆüá≥ ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å
            </button>
        </div>
    </div>

    <div class="container py-4">
        <!-- Hero Section with Real-time Suggestions -->
        <div class="hero-section">
            <div class="text-center mb-4">
                <h1 class="display-5 mb-2" data-en="Plan Your Journey" data-ta="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ£‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü‡ÆÆ‡Æø‡Æü‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞Ü‡∞™‡±ç‡∞≤‡∞æ‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø">
                    Plan Your Journey
                </h1>
                <p class="lead text-muted" data-en="We help you plan your travel! Choose your boarding point and destination to see available buses, timings, and how to reach your destination." 
                   data-ta="‡Æ®‡Ææ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ£‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü‡ÆÆ‡Æø‡Æü ‡Æâ‡Æ§‡Æµ‡ØÅ‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç! ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ£‡Æ§‡Øç ‡Æ§‡Øä‡Æü‡Æï‡Øç‡Æï‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡ÆØ‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç, ‡Æ®‡Øá‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡Øà ‡ÆÖ‡Æü‡Øà‡Æµ‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æµ‡Æ¥‡Æø‡Æï‡Æ≥‡Øà‡Æ™‡Øç ‡Æ™‡Ææ‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç."
                   data-te="‡∞Æ‡±á‡∞Æ‡±Å ‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ç‡∞≤‡∞æ‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç‡∞≤‡±ã ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡∞æ‡∞Æ‡±Å! ‡∞Æ‡±Ä ‡∞¨‡±ã‡∞∞‡±ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç ‡∞™‡∞æ‡∞Ø‡∞ø‡∞Ç‡∞ü‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ó‡∞Æ‡±ç‡∞Ø‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±Å‡∞®‡∞ø ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞â‡∞®‡±ç‡∞® ‡∞¨‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±Å, ‡∞∏‡∞Æ‡∞Ø‡∞æ‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡±Ä ‡∞ó‡∞Æ‡±ç‡∞Ø‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞ö‡±á‡∞∞‡±Å‡∞ï‡±ã‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞é‡∞≤‡∞æ ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø.">
                    We help you plan your travel! Choose your boarding point and destination to see available buses, timings, and how to reach your destination.
                </p>
            </div>
            
            <!-- Popular Destinations -->
            <div class="row g-3 mb-4">
                <h6 class="text-muted" data-en="Popular Destinations" data-ta="‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ© ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡Øç" data-te="‡∞™‡±ç‡∞∞‡∞∏‡∞ø‡∞¶‡±ç‡∞ß ‡∞ó‡∞Æ‡±ç‡∞Ø‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞æ‡∞≤‡±Å">Popular Destinations</h6>
                <div class="col-md-3 col-sm-6">
                    <div class="card destination-card border-primary" onclick="setDestination('Bengaluru')">
                        <div class="card-body text-center">
                            <div class="badge bg-primary mb-2">üìç Famous: Vidhana Soudha</div>
                            <i class="bi bi-building text-primary" style="font-size: 2rem;"></i>
                            <h6 class="mt-2 mb-1">Bengaluru</h6>
                            <small class="text-muted d-block" data-en="Tech Hub ¬∑ Night Life" data-ta="‡Æü‡ØÜ‡Æï‡Øç ‡ÆÆ‡Øà‡ÆØ‡ÆÆ‡Øç ¬∑ ‡Æá‡Æ∞‡Æµ‡ØÅ ‡Æµ‡Ææ‡Æ¥‡Øç‡Æï‡Øç‡Æï‡Øà" data-te="‡∞ü‡±Ü‡∞ï‡±ç ‡∞π‡∞¨‡±ç ¬∑ ‡∞®‡±à‡∞ü‡±ç ‡∞≤‡±à‡∞´‡±ç">Tech Hub ¬∑ Night Life</small>
                            <small class="text-primary mt-1 d-block" data-en="Buses: 8:00 PM ¬∑ 9:00 PM" data-ta="‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç: ‡ÆÆ‡Ææ‡Æ≤‡Øà 8:00 ¬∑ 9:00" data-te="‡∞¨‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±Å: ‡∞∏‡∞æ‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞Ç 8:00 ¬∑ 9:00">Buses: 8:00 PM ¬∑ 9:00 PM</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="card destination-card border-success" onclick="setDestination('Chennai')">
                        <div class="card-body text-center">
                            <div class="badge bg-success mb-2">üìç Famous: Marina Beach</div>
                            <i class="bi bi-building text-success" style="font-size: 2rem;"></i>
                            <h6 class="mt-2 mb-1">Chennai</h6>
                            <small class="text-muted d-block" data-en="Capital City ¬∑ Beaches" data-ta="‡Æ§‡Æ≤‡Øà‡Æ®‡Æï‡Æ∞‡ÆÆ‡Øç ¬∑ ‡Æï‡Æü‡Æ±‡Øç‡Æï‡Æ∞‡Øà‡Æï‡Æ≥‡Øç" data-te="‡∞∞‡∞æ‡∞ú‡∞ß‡∞æ‡∞®‡∞ø ¬∑ ‡∞¨‡±Ä‡∞ö‡±ç">Capital City ¬∑ Beaches</small>
                            <small class="text-success mt-1 d-block" data-en="Buses: 10:00 PM ¬∑ 11:00 PM" data-ta="‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç: ‡Æá‡Æ∞‡Æµ‡ØÅ 10:00 ¬∑ 11:00" data-te="‡∞¨‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±Å: ‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡∞ø 10:00 ¬∑ 11:00">Buses: 10:00 PM ¬∑ 11:00 PM</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="card destination-card border-info" onclick="setDestination('Madurai')">
                        <div class="card-body text-center">
                            <div class="badge bg-info mb-2">üìç Famous: Meenakshi Temple</div>
                            <i class="bi bi-building text-info" style="font-size: 2rem;"></i>
                            <h6 class="mt-2 mb-1">Madurai</h6>
                            <small class="text-muted d-block" data-en="Temple City ¬∑ Heritage" data-ta="‡Æï‡Øã‡Æµ‡Æø‡Æ≤‡Øç ‡Æ®‡Æï‡Æ∞‡ÆÆ‡Øç ¬∑ ‡Æ™‡Ææ‡Æ∞‡ÆÆ‡Øç‡Æ™‡Æ∞‡Æø‡ÆØ‡ÆÆ‡Øç" data-te="‡∞Ü‡∞≤‡∞Ø ‡∞®‡∞ó‡∞∞‡∞Ç ¬∑ ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞æ‡∞Ø‡∞Ç">Temple City ¬∑ Heritage</small>
                            <small class="text-info mt-1 d-block" data-en="Buses: Every 1 hour" data-ta="‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç: ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡ÆÆ‡Æ£‡Æø ‡Æ®‡Øá‡Æ∞‡Æ§‡Øç‡Æ§‡Æø‡Æ±‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç" data-te="‡∞¨‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±Å: ‡∞™‡±ç‡∞∞‡∞§‡∞ø 1 ‡∞ó‡∞Ç‡∞ü‡∞ï‡±Å">Buses: Every 1 hour</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6">
                    <div class="card destination-card border-warning" onclick="setDestination('Coimbatore')">
                        <div class="card-body text-center">
                            <div class="badge bg-warning mb-2">üìç Famous: Textile City</div>
                            <i class="bi bi-building text-warning" style="font-size: 2rem;"></i>
                            <h6 class="mt-2 mb-1">Coimbatore</h6>
                            <small class="text-muted d-block" data-en="Textile Hub ¬∑ Industry" data-ta="‡Æ®‡ØÜ‡Æö‡Æµ‡ØÅ ‡ÆÆ‡Øà‡ÆØ‡ÆÆ‡Øç ¬∑ ‡Æ§‡Øä‡Æ¥‡Æø‡Æ≤‡Øç" data-te="‡∞ü‡±Ü‡∞ï‡±ç‡∞∏‡±ç‡∞ü‡±à‡∞≤‡±ç ‡∞π‡∞¨‡±ç ¬∑ ‡∞™‡∞∞‡∞ø‡∞∂‡±ç‡∞∞‡∞Æ">Textile Hub ¬∑ Industry</small>
                            <small class="text-warning mt-1 d-block" data-en="Buses: 9:00 PM ¬∑ 10:30 PM" data-ta="‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç: ‡Æá‡Æ∞‡Æµ‡ØÅ 9:00 ¬∑ 10:30" data-te="‡∞¨‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±Å: ‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡∞ø 9:00 ¬∑ 10:30">Buses: 9:00 PM ¬∑ 10:30 PM</small>
                        </div>
                    </div>
            </div>
        </div>
            
            <div class="text-center mb-4">
                <a href="{{ url_for('passengers_plan') }}" class="btn btn-primary btn-lg">
                    <i class="bi bi-compass"></i> <span data-en="Plan your travel" data-ta="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ£‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü‡ÆÆ‡Æø‡Æü‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ç‡∞≤‡∞æ‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø">Plan your travel</span>
            </a>
        </div>

            <!-- Help Section -->
            <div class="alert alert-info">
                <h6 class="alert-heading"><i class="bi bi-info-circle"></i> <span data-en="How to Plan Your Journey:" data-ta="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ£‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü‡ÆÆ‡Æø‡Æü‡ØÅ‡Æµ‡Æ§‡ØÅ ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø:" data-te="‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞≤‡∞æ ‡∞™‡±ç‡∞≤‡∞æ‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞æ‡∞≤‡∞ø:">How to Plan Your Journey:</span></h6>
                <ul class="mb-0">
                    <li data-en="Select your boarding point (where you are now)" data-ta="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ£‡Æ§‡Øç ‡Æ§‡Øä‡Æü‡Æï‡Øç‡Æï‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç (‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æü‡ÆÆ‡Øç)" data-te="‡∞Æ‡±Ä ‡∞¨‡±ã‡∞∞‡±ç‡∞°‡∞ø‡∞Ç‡∞ó‡±ç ‡∞™‡∞æ‡∞Ø‡∞ø‡∞Ç‡∞ü‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø (‡∞Æ‡±Ä‡∞∞‡±Å ‡∞á‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞é‡∞ï‡±ç‡∞ï‡∞° ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞∞‡±Å)">Select your boarding point (where you are now)</li>
                    <li data-en="Choose your destination (where you want to go)" data-ta="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç (‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤ ‡Æµ‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æü‡ÆÆ‡Øç)" data-te="‡∞Æ‡±Ä ‡∞ó‡∞Æ‡±ç‡∞Ø‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø (‡∞Æ‡±Ä‡∞∞‡±Å ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡∞¶‡∞≤‡∞ö‡∞ø‡∞® ‡∞™‡±ç‡∞∞‡∞¶‡±á‡∞∂‡∞Ç)">Choose your destination (where you want to go)</li>
                    <li data-en="See available bus schedules with departure and arrival times" data-ta="‡Æ™‡ØÅ‡Æ±‡Æ™‡Øç‡Æ™‡Ææ‡Æü‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æ∞‡ØÅ‡Æï‡Øà ‡Æ®‡Øá‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æü‡Æ©‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡ÆÖ‡Æü‡Øç‡Æü‡Æµ‡Æ£‡Øà‡Æï‡Æ≥‡Øà‡Æ™‡Øç ‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç" data-te="‡∞§‡∞ø‡∞∞‡±Å‡∞ó‡±Å‡∞§‡±Å‡∞®‡±ç‡∞® ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∞‡∞æ‡∞ï ‡∞∏‡∞Æ‡∞Ø‡∞æ‡∞≤‡∞§‡±ã ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞â‡∞®‡±ç‡∞® ‡∞¨‡∞∏‡±ç‡∞∏‡±Å ‡∞∑‡±Ü‡∞°‡±ç‡∞Ø‡±Ç‡∞≥‡±ç‡∞≤‡∞®‡±Å ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø">See available bus schedules with departure and arrival times</li>
                    <li data-en="Get instant information about what each destination is famous for" data-ta="‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æé‡Æ§‡Æ±‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡Øà‡Æ™‡Øç ‡Æ™‡Æ±‡Øç‡Æ±‡Æø‡ÆØ ‡Æâ‡Æü‡Æ©‡Æü‡Æø ‡Æ§‡Æï‡Æµ‡Æ≤‡Øà‡Æ™‡Øç ‡Æ™‡ØÜ‡Æ±‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞ó‡∞Æ‡±ç‡∞Ø‡∞Ç ‡∞¶‡±á‡∞®‡∞ø‡∞ï‡∞ø ‡∞™‡±ç‡∞∞‡∞∏‡∞ø‡∞¶‡±ç‡∞ß‡∞ø ‡∞ö‡±Ü‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞¶‡±ã ‡∞â‡∞®‡±ç‡∞®‡∞§ ‡∞∏‡∞Æ‡∞æ‡∞ö‡∞æ‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø">Get instant information about what each destination is famous for</li>
                </ul>
            </div>
        </div>

        <!-- Available Bus Services -->
        <div class="row mb-3">
            <div class="col-12">
                <div class="card shadow" style="background: rgba(255,255,255,0.95);">
                    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">
                            <i class="bi bi-bus-front"></i> <span data-en="Available Bus Services" data-ta="‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æö‡Øá‡Æµ‡Øà‡Æï‡Æ≥‡Øç" data-te="‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞â‡∞®‡±ç‡∞® ‡∞¨‡∞∏‡±ç ‡∞∏‡±á‡∞µ‡∞≤‡±Å">Available Bus Services</span>
                            <span class="badge bg-secondary ms-2">Public</span>
                        </h5>
                        {% if active_services %}
                        <span class="badge bg-light text-primary">
                            <i class="bi bi-list-check"></i> {{ active_services|length }} <span data-en="Services" data-ta="‡Æö‡Øá‡Æµ‡Øà‡Æï‡Æ≥‡Øç" data-te="‡∞∏‡±á‡∞µ‡∞≤‡±Å">Services</span>
                        </span>
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <div class="alert alert-light border mb-3">
                            <h6 class="alert-heading"><i class="bi bi-info-circle text-primary"></i> <span data-en="Service Details:" data-ta="‡Æö‡Øá‡Æµ‡Øà ‡Æµ‡Æø‡Æµ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç:" data-te="‡∞∏‡±á‡∞µ ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å:">Service Details:</span></h6>
                            <ul class="mb-0 small">
                                <li><strong data-en="Major Stops" data-ta="‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Æø‡ÆØ ‡Æ®‡Æø‡Æ±‡ØÅ‡Æ§‡Øç‡Æ§‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞Æ‡±Å‡∞ñ‡±ç‡∞Ø‡∞Æ‡±à‡∞® ‡∞Ü‡∞ó‡±Å‡∞™‡∞®‡∞ø‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø">Major Stops:</strong> <span data-en="All bus stop locations along the route" data-ta="‡Æµ‡Æ¥‡Æø‡ÆØ‡Æø‡Æ≤‡Øç ‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æ®‡Æø‡Æ±‡ØÅ‡Æ§‡Øç‡Æ§ ‡Æá‡Æü‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞Ç ‡∞µ‡±Ü‡∞Ç‡∞ü ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞¨‡∞∏‡±ç ‡∞∏‡±ç‡∞ü‡∞æ‡∞™‡±ç ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞æ‡∞≤‡±Å">All bus stop locations along the route</span></li>
                                <li><strong data-en="Via Routes" data-ta="‡Æµ‡Æ¥‡Æø‡ÆØ‡Ææ‡Æï" data-te="‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ">Via Routes:</strong> <span data-en="Intermediary destinations the bus passes through" data-ta="‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æï‡Æü‡Æ®‡Øç‡Æ§‡ØÅ ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æü‡Øà‡Æ®‡Æø‡Æ≤‡Øà ‡Æá‡Æ≤‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡Øç" data-te="‡∞¨‡∞∏‡±ç ‡∞ó‡±Å‡∞Ç‡∞°‡∞æ ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡±á ‡∞Æ‡∞ß‡±ç‡∞Ø‡∞Ç‡∞§‡∞∞ ‡∞ó‡∞Æ‡±ç‡∞Ø‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞æ‡∞≤‡±Å">Intermediary destinations the bus passes through</span></li>
                                <li><strong data-en="Timing" data-ta="‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç" data-te="‡∞∏‡∞Æ‡∞Ø‡∞Ç">Timing:</strong> <span data-en="Departure and arrival times" data-ta="‡Æ™‡ØÅ‡Æ±‡Æ™‡Øç‡Æ™‡Ææ‡Æü‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æ∞‡ØÅ‡Æï‡Øà ‡Æ®‡Øá‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞µ‡∞ø‡∞°‡∞ø‡∞ö‡∞ø‡∞™‡±Ü‡∞ü‡±ç‡∞ü‡∞°‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∞‡∞æ‡∞ï ‡∞∏‡∞Æ‡∞Ø‡∞æ‡∞≤‡±Å">Departure and arrival times</span></li>
                            </ul>
                        </div>
        {% if active_services %}
                <div class="table-responsive">
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                        <th data-en="Service #" data-ta="‡Æö‡Øá‡Æµ‡Øà #" data-te="‡∞∏‡±á‡∞µ #">Service #</th>
                                        <th data-en="Bus #" data-ta="‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ #" data-te="‡∞¨‡∞∏‡±ç #">Bus #</th>
                                        <th data-en="Route" data-ta="‡Æµ‡Æ¥‡Æø" data-te="‡∞Æ‡∞æ‡∞∞‡±ç‡∞ó‡∞Ç">Route</th>
                                        <th data-en="Timing" data-ta="‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç" data-te="‡∞∏‡∞Æ‡∞Ø‡∞Ç">Timing</th>
                                        <th data-en="Major Stops" data-ta="‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Æø‡ÆØ ‡Æ®‡Æø‡Æ±‡ØÅ‡Æ§‡Øç‡Æ§‡Æô‡Øç‡Æï‡Æ≥‡Øç" data-te="‡∞Æ‡±Å‡∞ñ‡±ç‡∞Ø‡∞Æ‡±à‡∞® ‡∞Ü‡∞ó‡±Å‡∞™‡∞®‡∞ø‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø">Major Stops</th>
                                        <th data-en="Via Routes" data-ta="‡Æµ‡Æ¥‡Æø‡ÆØ‡Ææ‡Æï" data-te="‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ">Via Routes</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for s in active_services %}
                            <tr>
                                <td class="fw-semibold">{{ s.service_number }}</td>
                                <td>{{ s.bus_number }}</td>
                                <td>
                                            <i class="bi bi-arrow-right text-primary"></i> {{ s.origin }} ‚Üí {{ s.destination }}
                                </td>
                                <td class="text-nowrap">
                                    {% if s.origin_departure_time %}
                                                <span class="badge bg-success">{{ s.origin_departure_time.strftime('%I:%M %p') }}</span> ‚Üí 
                                    {% else %}‚Äî{% endif %}
                                    {% if s.destination_arrival_time %}
                                                <span class="badge bg-info">{{ s.destination_arrival_time.strftime('%I:%M %p') }}</span>
                                    {% else %}‚Äî{% endif %}
                                </td>
                                <td class="small">
                                    {% if s.stops %}
                                        {% for stop in s.stops[:3] %}
                                            {% if stop.name %}{{ stop.name }}{% elif stop.location %}{{ stop.location }}{% else %}{{ stop }}{% endif %}{% if not loop.last %}, {% endif %}
                                        {% endfor %}
                                        {% if s.stops|length > 3 %} <span class="text-muted">+{{ s.stops|length - 3 }} more</span>{% endif %}
                                    {% else %}
                                        <span class="text-muted" data-en="No stops" data-ta="‡Æ®‡Æø‡Æ±‡ØÅ‡Æ§‡Øç‡Æ§‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà" data-te="‡∞Ü‡∞ó‡±Å‡∞™‡∞®‡∞ø‡∞ö‡±á‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø ‡∞≤‡±á‡∞µ‡±Å">No stops</span>
                                    {% endif %}
                                </td>
                                <td class="small text-muted">
                                    {% if s.via_routes %}
                                        {% for v in s.via_routes %}
                                            {% if v is mapping %}
                                                {{ v.name or v.location or v }}
                                            {% else %}
                                                {{ v }}
                                            {% endif %}
                                            {% if not loop.last %}, {% endif %}
                                        {% endfor %}
                                    {% else %}
                                        <span data-en="Direct" data-ta="‡Æ®‡Øá‡Æ∞‡Æü‡Æø" data-te="‡∞®‡±á‡∞∞‡±Å‡∞ó‡∞æ">Direct</span>
                                    {% endif %}
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
        </div>
        {% else %}
        <div class="text-center py-5 text-muted">
            <i class="bi bi-bus-front" style="font-size: 3rem;"></i>
                            <p class="mt-3 mb-0" data-en="No active services available at the moment." data-ta="‡Æá‡Æ®‡Øç‡Æ§ ‡Æ®‡Øá‡Æ∞‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æö‡Øá‡Æµ‡Øà‡Æï‡Æ≥‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Æµ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà" data-te="‡∞™‡±ç‡∞∞‡∞∏‡±ç‡∞§‡±Å‡∞§‡∞Ç ‡∞ï‡±ç‡∞∞‡∞ø‡∞Ø‡∞æ‡∞∂‡±Ä‡∞≤ ‡∞∏‡±á‡∞µ‡∞≤‡±Å ‡∞Ö‡∞Ç‡∞¶‡±Å‡∞¨‡∞æ‡∞ü‡±Å‡∞≤‡±ã ‡∞≤‡±á‡∞µ‡±Å">No active services available at the moment.</p>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="border-top py-3 mt-5" style="position: relative; z-index: 10; margin-top: auto !important;">
        <div class="container text-center text-muted small">
            Designed and developed by the Nextlinker under CSP Project | KARE
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentLang = 'en';
        
        function changeLang(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-en], [data-ta], [data-te]').forEach(el => {
                const attr = 'data-' + lang;
                if (el.hasAttribute(attr)) {
                    el.textContent = el.getAttribute(attr);
                }
            });
            
            // Update button states
            document.querySelectorAll('.lang-toggle button').forEach(btn => {
                btn.classList.remove('active');
                if ((lang === 'en' && btn.textContent.includes('English')) ||
                    (lang === 'ta' && btn.textContent.includes('‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç')) ||
                    (lang === 'te' && btn.textContent.includes('‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å'))) {
                    btn.classList.add('active');
                }
            });
            
            localStorage.setItem('preferredLang', lang);
        }
        
        function setDestination(dest) {
            // Store destination in localStorage
            localStorage.setItem('selectedDestination', dest);
            // Redirect to plan page
            window.location.href = '{{ url_for("passengers_plan") }}';
        }
        
        // Load saved language preference
        const savedLang = localStorage.getItem('preferredLang') || 'en';
        if (savedLang !== 'en') {
            changeLang(savedLang);
        }
    </script>
</body>
</html>
